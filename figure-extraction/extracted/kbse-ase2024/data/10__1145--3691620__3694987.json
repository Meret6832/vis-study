[{
  "caption": "Table 1: Dataset Statistics. Code, NL, and Relevant refer to the average lengths after tokenization by CodeGPT. Relevant indicates the code retrieved by the retriever. Code tokens indicates the maximum length we set for the output generated by the refactorer.",
  "captionBoundary": {
    "x1": 53.50199890136719,
    "x2": 558.1824951171875,
    "y1": 85.72634887695312,
    "y2": 102.31597900390625
  },
  "figType": "Table",
  "imageText": ["python", "412,178", "23,107", "22,176", "184", "68", "556", "168", "ConCode", "java", "100,000", "2,000", "2,000", "40", "252", "126", "64", "CodeSearchNet", "java", "454,451", "15,328", "26,909", "152", "58", "449", "168", "Dataset", "Lang.", "Train", "Valid", "Test", "|Code|", "|NL|", "|Relevant|", "Code", "tokens"],
  "name": "1",
  "page": 5,
  "regionBoundary": {
    "x1": 104.64,
    "x2": 504.0,
    "y1": 116.64,
    "y2": 172.32
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Table1-1.png"
}, {
  "caption": "Figure 5: Case comparison. Redundant info and preference gaps led the generator to produce wrong answers from raw retrieved code, whereas it generated correctly from the refactored code. Highlighted tokens significantly impact code generation, whereas misleading tokens in the raw do not affect the generator in the refactored version.",
  "captionBoundary": {
    "x1": 53.79800033569336,
    "x2": 558.1798095703125,
    "y1": 278.703369140625,
    "y2": 306.25201416015625
  },
  "figType": "Figure",
  "imageText": ["Refactorer", "Raw", "retrieved", "code:", "RRG", "RAG", "Refactored", "retrieved", "code:", "BufferedByteWriter", "function", "(", "long", "arg0", ")", "{", "ensureCapacity", "(", "4", ")", ";", "mWriter.", "putLong", "(", "(", "long", ")", "(", "arg0", "&", "0xFF", ")", ")", ";", "return", "this", ";", "}", "BufferedByteWriter", "function", "(", "int", "arg0", ")", "{", "ensureCapacity", "(", "4", ")", ";", "mWriter", ".", "putInt", "(", "arg0", ")", ";", "return", "this", ";", "}", "BufferedByteWriter", "function", "(", "byte", "arg0", ")", "{", "return", "put32", "(", "arg0", "&", "0xFF", ")", ";", "}", "BufferedByteWriter", "function", "(", "byte", "arg0", ")", "{", "return", "this", ".", "put16", "(", "(", "short", ")", "(", "arg0", "&", "0xFF", ")", ");", "}", "ANS:", "BufferedByteWriter", "function", "(", "short", "arg0", ")", "{", "return", "put64", "(", "arg0", "&", "0xFFFFL", ")", ";", "}", "Ans:", "BufferedByteWriter", "function", "(", "byte", "arg0", ")", "{", "ensureCapacity", "(", "4", ")", ";", "mWriter.", "putLong", "(", "arg0", ")", ";", "return", "this", ";", "}"],
  "name": "5",
  "page": 10,
  "regionBoundary": {
    "x1": 54.72,
    "x2": 557.28,
    "y1": 82.56,
    "y2": 263.03999999999996
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure5-1.png"
}, {
  "caption": "Figure 6: The preference-guided refactorer will provide different code to different generators. The highlight represents the tokens that play a significant role in guiding the model’s generation. This difference is referred to as the preferences of different generators.",
  "captionBoundary": {
    "x1": 53.79800033569336,
    "x2": 295.63848876953125,
    "y1": 531.1973266601562,
    "y2": 580.6640014648438
  },
  "figType": "Figure",
  "imageText": ["RRG", "based", "on", "Code", "Model", "RRG", "based", "on", "Language", "Model", "Ans:", "Refactored", "code", "for", "Code", "Model", "：", "Ans:", "Refactored", "code", "for", "Language", "Model", "：", "}", "public", "Gather", "<", "T", ">", "filterAsGather(", "Predicate", "<", "T", ">", "decision", ")", "{", "return", "from(Collections2.filter(elements.get(),", "decision);", "public", "Gather", "filterAsGather", "(", "Predicate", "<", "T", ">", "decision", "){", "return", "new", "Gather", "(", "unfiltered", ".", "filter", "(", "predicate", ")", ";", "}", "public", "Gather", "<", "T", ">", "filterAsGather", "(", "Predicate", "<", "T", ">", "decision", ")", "{", "return", "from", "(", "Collections2", ".", "filter", "(", "elements", ".", "get", "(", ")", ",", "decision", ")", ";", "}", "public", "Gather", "filter", "(", "Predicate", "<", "T", ">", "decision", ")", "{", "return", "new", "Gather", "(", "elements", ".", "get(", ")", ",", "decision", ")", ";", "}"],
  "name": "6",
  "page": 10,
  "regionBoundary": {
    "x1": 54.239999999999995,
    "x2": 295.2,
    "y1": 324.47999999999996,
    "y2": 516.0
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure6-1.png"
}, {
  "caption": "Figure 1: Comparison of two RACG frameworks. The upper shows the conventional approach, where the retrieved code is directly fed to the LLMs directly, but this holds redundant information and is not model-friendly. The lower shows the RRG framework, where the retrieved code is refactored into concise, model-friendly code, which improves the effectiveness and efficiency of the generator.",
  "captionBoundary": {
    "x1": 53.79800033569336,
    "x2": 295.635009765625,
    "y1": 238.70437622070312,
    "y2": 310.0880126953125
  },
  "figType": "Figure",
  "imageText": ["Retrieved", "code", "Refactored", "code", "Generator", "Retriever", "Our", "RRG", "Refactorer"],
  "name": "1",
  "page": 1,
  "regionBoundary": {
    "x1": 67.67999999999999,
    "x2": 295.2,
    "y1": 115.19999999999999,
    "y2": 225.12
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure1-1.png"
}, {
  "caption": "Table 4: Ablation Study on ConCode and CodeSearchNet-java datasets. The retriever employs a dual-stage retrieval that incorporates UAE and BM25.",
  "captionBoundary": {
    "x1": 53.50199890136719,
    "x2": 294.03741455078125,
    "y1": 85.72634887695312,
    "y2": 113.2750244140625
  },
  "figType": "Table",
  "imageText": ["RRG", "6.9", "34.86", "44.94", "CodeGEN", "RRG", "w/o", "RL", "6.55", "34.69", "44.71", "RRG", "8.0", "35.50", "45.77", "PolyCoder", "RRG", "w/o", "RL", "7.85", "35.18", "45.52", "RRG", "7.7", "37.73", "47.41", "CodeGPT", "RRG", "w/o", "RL", "7.44", "37.04", "47.02", "Model", "Name", "Method", "EM", "BLEU", "CodeBLEU", "RRG", "15.11", "33.76", "51.26", "CodeSearchNet-java", "CodeGEN", "RRG", "w/o", "RL", "15.01", "33.03", "50.97", "RRG", "21.41", "39.26", "55.67", "PolyCoder", "RRG", "w/o", "RL", "20.76", "40.40", "55.77", "RRG", "19.71", "38.58", "54.97", "CodeGPT", "RRG", "w/o", "RL", "19.65", "38.24", "55.12", "ConCode", "Model", "Name", "Method", "EM", "BLEU", "CodeBLEU"],
  "name": "4",
  "page": 9,
  "regionBoundary": {
    "x1": 60.96,
    "x2": 286.08,
    "y1": 127.67999999999999,
    "y2": 344.15999999999997
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Table4-1.png"
}, {
  "caption": "Table 5: Generalization experiment. The original combinationsin the table mean where the frozen refactorer was trained. And we directly applied it to other combinations on the ConCode.",
  "captionBoundary": {
    "x1": 53.50199890136719,
    "x2": 295.642578125,
    "y1": 358.6873474121094,
    "y2": 397.19500732421875
  },
  "figType": "Table",
  "imageText": ["ANS", "to", "RQ4:", "The", "preference-aware", "tuning", "stage", "is", "crucial,", "as", "it", "further", "enhances", "the", "effectiveness", "of", "the", "RRG", "framework", "by", "considering", "the", "preference", "of", "the", "generator.", "Moreover,", "it", "ex-", "hibits", "good", "generalization,", "potentially", "yielding", "better", "results", "on", "complex", "datasets.", "change-both", "mxbai-GPT2", "19.75", "38.24", "change-retriever", "mxbai-CodeGPT", "19.25", "37.73", "change-generator", "BM25-GPT2", "18.25", "36.73", "change-both", "BM25-CodeGPT", "20.41", "39.11", "original", "BM25-CodeGPT", "20.81", "39.62", "change-retriever", "BM25-GPT2", "18.25", "36.73", "change-generator", "mxbai-CodeGPT", "19.35", "38.31", "Combinations", "Retriever-Generator", "EM", "BLEU", "original", "mxbai-GPT2", "20.01", "38.34"],
  "name": "5",
  "page": 9,
  "regionBoundary": {
    "x1": 53.76,
    "x2": 294.24,
    "y1": 411.84,
    "y2": 615.36
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Table5-1.png"
}, {
  "caption": "Table 2: Comparing the performance of different generators in RRG and RAG frameworks. The results are based on ConCode and CodeSearchNet. The refactorer is based on CodeT5-small. The retriever employs a dual-stage retrieval that incorporates UAE and BM25.",
  "captionBoundary": {
    "x1": 53.50199890136719,
    "x2": 558.1808471679688,
    "y1": 85.72634887695312,
    "y2": 113.2750244140625
  },
  "figType": "Table",
  "imageText": ["SFT", "15.85", "28.58", "48.36", "4.40", "24.01", "36.12", "0.4", "11.85", "23.65", "RAG", "17.40", "36.85", "53.19", "7.3", "34.61", "45.64", "1.05", "18.12", "29.46CodeGPT", "RRG", "20.21", "39.40", "55.49", "8.20", "37.89", "47.63", "1.35", "20.50", "31.36", "SFT", "16.45", "29.00", "48.36", "4.8", "25.11", "36.55", "0.54", "11.33", "23.16", "RAG", "17.55", "36.77", "53.05", "7.45", "33.80", "45.00", "0.95", "17.83", "29.22GPT2-m", "RRG", "20.86", "40.22", "55.55", "7.25", "35.07", "45.38", "0.90", "18.36", "30.04", "SFT", "11.40", "26.82", "45.44", "3.9", "24.44", "35.71", "0.35", "10.45", "24.32", "RAG", "11.85", "31.73", "49.74", "6.9", "34.42", "45.04", "1.25", "18.96", "30.15CodeGEN", "RRG", "15.11", "33.76", "51.26", "6.55", "34.69", "44.71", "1.19", "19.37", "30.22", "SFT", "15.67", "28.60", "47.99", "4.03", "24.13", "35.54", "0.4", "11.63", "23.82", "RAG", "17.80", "37.6", "53.77", "7.3", "34.53", "45.53", "1.40", "18.82", "30.10PolyCoder", "RRG", "21.41", "39.26", "55.67", "8.0", "35.50", "45.77", "1.40", "19.63", "31.25", "SFT", "15.40", "27.42", "47.54", "4.10", "23.68", "35.32", "0.350", "10.14", "22.27", "RAG", "16.75", "37.08", "52.86", "6.65", "35.07", "45.57", "1.0", "17.33", "28.94GPT2-s", "RRG", "19.00", "38.32", "54.52", "7.05", "37.61", "47.31", "1.15", "19.42", "30.92", "EM", "BLEU", "CodeBLEU", "EM", "BLEU", "CodeBLEU", "EM", "BLEU", "CodeBLEU", "ConCode", "CodeSearchNet-java", "CodeSearchNet-python", "Base", "model", "Method"],
  "name": "2",
  "page": 7,
  "regionBoundary": {
    "x1": 61.919999999999995,
    "x2": 550.0799999999999,
    "y1": 127.67999999999999,
    "y2": 380.15999999999997
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Table2-1.png"
}, {
  "caption": "Figure 3: Shows the improvements brought by the RRG framework when configured with different retrievers. The generator based on CodeGPT-java.",
  "captionBoundary": {
    "x1": 53.79800033569336,
    "x2": 558.3713989257812,
    "y1": 541.7192993164062,
    "y2": 558.3079833984375
  },
  "figType": "Figure",
  "imageText": ["(b)", "The", "improvements", "on", "the", "CSN-java", "dataset.", "BM25", "UAE", "MXbai", "4.23%", "8.31%", "9.22%", "3.38%", "6.00%", "6.94%", "1.63%", "4.30%", "-1.24%", "(%", ")", "en", "t", "ov", "em", "Im", "pr", "8", "6", "4", "2", "0", "EM", "BLEU", "CodeBLEU", "Metrics", "(a)", "The", "improvements", "on", "the", "ConCode", "dataset.", "BM25", "UAE", "MXbai", "3.82%", "7.30%", "16.86%", "2.82%", "7.05%", "4.97%", "6.14%", "12.81%", "15.15%", "(%", ")", "en", "t", "ov", "em", "Im", "pr", "16", "14", "12", "10", "8", "6", "4", "2", "0", "EM", "BLEU", "CodeBLEU", "Metrics"],
  "name": "3",
  "page": 7,
  "regionBoundary": {
    "x1": 55.68,
    "x2": 557.28,
    "y1": 393.59999999999997,
    "y2": 526.56
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure3-1.png"
}, {
  "caption": "Figure 2: The overall architecture of our proposed RRG with Preference-Guided Refactored Tuning.",
  "captionBoundary": {
    "x1": 104.39099884033203,
    "x2": 507.5918884277344,
    "y1": 281.1613464355469,
    "y2": 286.7919921875
  },
  "figType": "Figure",
  "imageText": ["query", "Preference-aware", "Tuning", "Reward", "CodeBLEU", "KL", "...", "[trainable", "code", "tokens][query]", "[bos]", "[eos][sep]", "Train", "to", "utilize", "Information", "Train", "to", "refactor", "code", "All", "Retrieved", "Information", "Overview", "Generator", "A", "Portion", "of", "the", "Retrieved", "Information", "ReFactorer", "query", "Generator", "ReFactorer", "CodeGEN", "CodeGPT", "...", "[trainable", "code", "tokens][query]", "[bos]", "[eos][sep]", "ReFactorer", "Retriever", "Top-K", "relevant", "code", "SparseSemantic", "DocsDocsDocs", "Databases", "NL-Code", "generate", "mappings", "for", "each", "function", "node", "and", "parameters", "and", "variables", "names", "......", "Tuned", "Frozen", "Generator", "Refactored", "Fine-Tuning"],
  "name": "2",
  "page": 3,
  "regionBoundary": {
    "x1": 56.64,
    "x2": 555.36,
    "y1": 84.0,
    "y2": 264.0
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure2-1.png"
}, {
  "caption": "Figure 4: Shows the performance of RL and NO-RL in different code tokens settings",
  "captionBoundary": {
    "x1": 137.05999755859375,
    "x2": 474.92559814453125,
    "y1": 339.1813659667969,
    "y2": 344.81201171875
  },
  "figType": "Figure",
  "imageText": ["(b)", "Result", "on", "the", "CSN-java", "dataset.", "(a)", "Result", "on", "the", "ConCode", "dataset."],
  "name": "4",
  "page": 8,
  "regionBoundary": {
    "x1": 55.68,
    "x2": 559.1999999999999,
    "y1": 82.56,
    "y2": 323.03999999999996
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Figure4-1.png"
}, {
  "caption": "Table 3: The effectiveness of various retrievers and how the generator performswith each of them. The generator is based on CodeGPT-java.",
  "captionBoundary": {
    "x1": 53.50199890136719,
    "x2": 294.03466796875,
    "y1": 365.0833435058594,
    "y2": 392.6319885253906
  },
  "figType": "Table",
  "imageText": ["CSN-java", "BM25", "293.52", "0.30", "8.05", "35.37", "UAE", "288.69", "0.32", "7.2", "35.20", "Mxbai", "287.88", "0.33", "7.05", "33.08", "ConCode", "BM25", "98.90", "0.35", "18.55", "35.43", "UAE", "95.71", "0.38", "19.11", "36.86", "Mxbai", "94.98", "0.39", "17.85", "37.24", "LS", "Cos", "similarity", "EM", "BLEU", "Dataset", "Retriever", "Retrieval", "Generation"],
  "name": "3",
  "page": 8,
  "regionBoundary": {
    "x1": 52.8,
    "x2": 301.44,
    "y1": 407.52,
    "y2": 520.3199999999999
  },
  "renderDpi": 150,
  "renderURL": "../datacollection/pdf_analysis/kbse-ase2024/figures/10_1145-3691620_3694987-Table3-1.png"
}]